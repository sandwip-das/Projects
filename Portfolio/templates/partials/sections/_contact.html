{% load static core_tags %}
<!-- Contact Section -->
<section id="{% if menu %}{{ menu.section_id }}{% else %}contact{% endif %}"
    class="py-4 bg-gradient-to-r from-[#1a1a2e] via-[#2e1a3d] to-[#4a3526] relative overflow-hidden scroll-mt-12 md:scroll-mt-14">
    <div
        class="absolute top-1/2 left-1/2 w-[700px] h-[500px] bg-indigo-600/10 rounded-full blur-[100px] transform -translate-x-1/2 -translate-y-1/2 pointer-events-none">
    </div>

    <div class="max-w-7xl mx-auto px-8 sm:px-12 lg:px-16 relative z-10">
        <div class="text-center mb-10">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Let's <span class="text-primary">Contact!</span></h2>
            <div class="w-24 h-1 bg-gradient-to-r from-indigo-500 to-pink-500 mx-auto rounded-full"></div>
        </div>

        <div class="flex flex-col lg:flex-row gap-12 items-start">

            <!-- Left side: Contact Info with Animation -->
            <div class="lg:w-1/2 bg-white/5 p-8 rounded-2xl border border-white/10">

                <!-- Dynamic Sub Heading -->
                {% if settings.contact_sub_heading %}
                <h3 class="text-2xl font-semibold mb-6 text-primary text-center lg:text-left">
                    {{ settings.contact_sub_heading }}
                </h3>
                {% endif %}

                <!-- Dynamic Text Field -->
                {% if settings.contact_text %}
                <div class="text-gray-300 mb-8 text-lg leading-relaxed text-center lg:text-left">
                    {{ settings.contact_text|linebreaksbr }}
                </div>
                {% endif %}

                <!-- Lottie Animation -->
                <div class="flex justify-center lg:justify-start mb-10">
                    <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_u25cckyh.json"
                        background="transparent" speed="1" style="width: 300px; height: 300px;" loop
                        autoplay></lottie-player>
                </div>

            </div>

            <!-- Right side: Form -->
            <div class="lg:w-1/2 bg-white/5 p-8 rounded-2xl border border-white/10">
                <div class="text-center mb-6">
                    <h3 class="text-3xl font-bold text-white mb-3">Contact With Me</h3>
                    <div class="w-16 h-1 bg-white mx-auto rounded-full"></div>
                </div>
                <form method="POST" class="space-y-4" id="contact-form-dynamic">
                    {% csrf_token %}
                    <input type="hidden" name="contact_form" value="1">

                    <div>
                        <label class="block text-sm font-normal text-white mb-1">Name</label>
                        {{ contact_form.name }}
                    </div>
                    <div>
                        <label class="block text-sm font-normal text-white mb-1">Email</label>
                        {{ contact_form.email }}
                    </div>
                    <div>
                        <label class="block text-sm font-normal text-white mb-1">Phone Number</label>
                        {{ contact_form.phone }}
                    </div>
                    <div>
                        <label class="block text-sm font-normal text-white mb-1">Topic</label>
                        {{ contact_form.subject }}
                    </div>
                    <div>
                        <label class="block text-sm font-normal text-white mb-1">Message</label>
                        {{ contact_form.message }}
                    </div>

                    <button type="submit"
                        class="w-full bg-gradient-to-r from-primary to-secondary text-white py-3 rounded-xl font-bold hover:shadow-lg hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1">
                        Send Message
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        handleDynamicForm('contact-form-dynamic');
    });
</script>
