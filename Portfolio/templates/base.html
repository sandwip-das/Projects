<!DOCTYPE html>
{% load static %}
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ settings.site_title|default:"Portfolio" }}</title>
    {% if settings.favicon %}
    <link rel="icon" type="image/png" href="{{ settings.favicon.url }}">
    {% endif %}

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700;800;900&family=Dancing+Script:wght@700&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <script src="{% static 'js/main.js' %}"></script>

    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body class="bg-dark text-gray-200 antialiased overflow-x-hidden min-h-screen">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 bg-dark/90 backdrop-blur-lg border-b border-white/10">
        <div class="max-w-7xl mx-auto px-2 sm:px-4 lg:px-6">
            <div class="flex items-center justify-between h-12 md:h-14 transition-all duration-300">
                <!-- Logo / Name -->
                <div class="flex-1 flex items-center overflow-hidden mr-4">
                    <a href="#"
                        class="font-bold tracking-tight hover:text-primary transition-all duration-300 font-script group block">
                        {% if settings.logo %}
                        <img class="h-7 sm:h-9 w-auto" src="{{ settings.logo.url }}" alt="{{ settings.site_title }}">
                        {% else %}
                        <span
                            class="gradient-text group-hover:scale-105 inline-block transition transform whitespace-nowrap text-sm sm:text-lg md:text-2xl">
                            {{ settings.site_title }}
                        </span>
                        {% endif %}
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:block">
                    <div class="ml-6 flex items-center space-x-4 lg:space-x-6">
                        <a href="#home"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Home</a>
                        <a href="#about"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">About</a>
                        <a href="#experience"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Experience</a>
                        <a href="#skills"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Expertise</a>
                        <a href="#projects"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Projects</a>
                        <a href="#service"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Services</a>
                        <a href="#blog"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Blog</a>
                        <a href="#contact"
                            class="nav-link text-xs lg:text-sm font-bold hover:text-primary transition-colors">Contact</a>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="flex md:hidden items-center">
                    <button type="button"
                        class="inline-flex items-center justify-center p-2 rounded-xl text-primary hover:text-white hover:bg-white/10 focus:outline-none transition-all duration-300 border border-white/10"
                        aria-controls="mobile-menu" aria-expanded="false" onclick="toggleMobileMenu()">
                        <span class="sr-only">Open main menu</span>
                        <div id="menu-icon-bars" class="space-y-1.5">
                            <div class="w-6 h-0.5 bg-current transition-all duration-300"></div>
                            <div class="w-4 h-0.5 bg-current ml-auto transition-all duration-300"></div>
                            <div class="w-6 h-0.5 bg-current transition-all duration-300"></div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Container -->
        <div class="hidden md:hidden overflow-hidden transition-all duration-500 ease-in-out bg-dark/95 backdrop-blur-xl border-b border-white/10"
            id="mobile-menu">
            <div class="px-2 pt-2 pb-4 space-y-1">
                <a href="#home" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Home</a>
                <a href="#about" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">About</a>
                <a href="#experience" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Experience</a>
                <a href="#skills" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Expertise</a>
                <a href="#projects" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Projects</a>
                <a href="#service" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Services</a>
                <a href="#blog" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Blog</a>
                <a href="#contact" onclick="toggleMobileMenu()"
                    class="block px-3 py-2 rounded-xl text-base font-bold text-gray-300 hover:text-primary hover:bg-white/5 transition-all">Contact</a>
            </div>
        </div>
    </nav>

    <script>
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const iconContainer = document.getElementById('menu-icon-bars');
            const bars = iconContainer.children;

            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                // Animate Icon to X (optional but premium)
                bars[0].style.transform = 'translateY(7px) rotate(45deg)';
                bars[1].style.opacity = '0';
                bars[2].style.transform = 'translateY(-7px) rotate(-45deg)';
            } else {
                menu.classList.add('hidden');
                bars[0].style.transform = 'none';
                bars[1].style.opacity = '1';
                bars[2].style.transform = 'none';
            }
        }
    </script>

    {% if messages %}
    <div id="message-container" class="fixed top-24 right-4 z-[1000] space-y-4 max-w-sm w-full">
        {% for message in messages %}
        <div class="px-6 py-4 rounded-xl shadow-2xl backdrop-blur-md border {% if message.tags == 'success' %}bg-green-500/90 border-green-500 text-white shadow-green-500/20{% else %}bg-red-500/90 border-red-500 text-white shadow-red-500/20{% endif %} flex items-center transform transition-all duration-500 hover:scale-102 cursor-pointer"
            onclick="this.remove()">
            <i
                class="fas {% if message.tags == 'success' %}fa-check-circle{% else %}fa-exclamation-circle{% endif %} mr-3 text-xl"></i>
            <p class="font-medium">{{ message }}</p>
        </div>
        {% endfor %}
    </div>
    <script>
        // Auto-dismiss messages after 3 seconds
        document.addEventListener('DOMContentLoaded', function () {
            const container = document.getElementById('message-container');
            if (container) {
                setTimeout(function () {
                    container.style.transition = 'opacity 0.5s ease-out';
                    container.style.opacity = '0';
                    setTimeout(function () {
                        container.remove();
                    }, 500);
                }, 3000); // 3 seconds delay
            }
        });
    </script>
    {% endif %}

    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer class="bg-gray-900 border-t border-gray-800 py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-center items-center gap-8">
            <div
                class="text-white text-lg font-bold transition-all duration-300 hover:text-primary hover:scale-105 cursor-default text-center">
                &copy; {% now "Y" %} {{ settings.footer_copyright }}
            </div>
            <div class="flex space-x-6">
                {% for link in social_links %}
                <a href="{{ link.url }}" target="_blank"
                    class="text-white hover:text-primary transition-all duration-300 hover:scale-110 text-2xl">
                    <i class="{{ link.icon_class }}"></i>
                </a>
                {% endfor %}
            </div>
        </div>
    </footer>

</body>

</html>